# ==========================================
# MemStack Backend Configuration
# ==========================================

# --- API Server Settings ---
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
# Comma-separated list of allowed origins for CORS
API_ALLOWED_ORIGINS=*

# --- Security Settings ---
# Generate a secure key for production: openssl rand -hex 32
SECRET_KEY=dev-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REQUIRE_API_KEY=true
API_KEY_HEADER_NAME=Authorization

# --- Database Settings ---
# Neo4j Graph Database
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password

# PostgreSQL for Metadata
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=memstack
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password

# Redis for Caching
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password

# --- LLM Provider Settings ---
# Select Provider: 'gemini', 'qwen', or 'openai'
LLM_PROVIDER=gemini

# Google Gemini (Default)
# Get key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.5-flash
GEMINI_EMBEDDING_MODEL=text-embedding-004

# Alibaba Cloud Qwen (通义千问)
# Get key from: https://dashscope.console.aliyun.com/
DASHSCOPE_API_KEY=your_dashscope_api_key_here
QWEN_MODEL=qwen-plus
QWEN_SMALL_MODEL=qwen-turbo
QWEN_EMBEDDING_MODEL=text-embedding-v3
QWEN_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# OpenAI
# Get key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here
# OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o
OPENAI_SMALL_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# --- Graphiti Settings ---
GRAPHITI_SEMAPHORE_LIMIT=10

# --- Monitoring & Telemetry ---
ENABLE_METRICS=true
METRICS_PORT=9090

# OpenTelemetry
ENABLE_TELEMETRY=true
SERVICE_NAME=memstack
ENVIRONMENT=development
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# --- Logging ---
LOG_LEVEL=INFO
# Options: json, text
LOG_FORMAT=json

# ==========================================
# MemStack Frontend Configuration (Web)
# ==========================================
# These variables must start with VITE_

# API Base URL (For frontend to connect to backend)
VITE_API_URL=http://localhost:8000/api/v1

# WebSocket URL (Optional, defaults to window.location.host)
# VITE_WS_URL=localhost:8000
